spring:
  application.name: customer-ms
  profiles.active: dev
  cloud:
    vault:
      token: ${VAULT_TOKEN}
      authentication: token
      uri: http://vault:8200
      kv:
        default-context: customer
        backend: secret
    config:
      enabled: true
      fail-fast: true
      uri: http://config-server:8888
      retry:
        max-attempts: 5
        max-interval: 1500
server.port: 9001
routing:
  product-ms:
    host: ${feign.product-ms.host}
    url: ${feign.product-ms.url}
    port: ${feign.product-ms.port}
    wishlist-url: ${feign.product-ms.wishlist-url}
    create-url: ${feign.product-ms.create-url}
resilience4j.circuitbreaker.instances:
  product-ms:
    sliding-window-size: 10
    failure-rate-threshold: 5
    wait-duration-in-open-state: 30000
    automatic-transition-from-open-to-half-open-enabled: true
    permitted-number-of-calls-in-half-open-state: 5
    allow-health-indicator-to-fail: true
    register-health-indicator: true
management:
  health.circuitbreakers.enabled: true
  endpoints.web.exposure.include: health
  endpoint.health.show-details: always